name: "List Contributors Simple"
description: "Action to write a plain-text list of contributors to a file."
author: "@nightblade"

branding:
  icon: "users"
  color: "blue"

inputs:
  repo_name:
    description: "Name of the repository to scan."
    required: true

  filename:
    description: "Name of the output file."
    required: true

  access_token:
    description: "GitHub token."
    required: true

runs:
  using: "composite"
  steps:
    - run: |
        python3 -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
      working-directory: /home/runner/work/_actions/nightblade/list-contributors-simple/main
      shell: bash
    - run: pwd; ls -la
      working-directory: /home/runner/work/_actions/nightblade/list-contributors-simple/main
      shell: bash
    - run: python3 main.py
      working-directory: /home/runner/work/_actions/nightblade/list-contributors-simple/main
      env:
        INPUT_REPO_NAME: "${{inputs.repo_name}}"
        INPUT_FILENAME: "${{inputs.filename}}"
        INPUT_ACCESS_TOKEN: "${{inputs.access_token}}"
      shell: bash
